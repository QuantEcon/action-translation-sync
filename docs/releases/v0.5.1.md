# Release Notes: v0.5.1

**Date**: November 6, 2025  
**Status**: Production-Ready ‚úÖ

---

## Overview

v0.5.1 introduces a language-specific configuration system based on comprehensive GPT5 evaluation of the GitHub test suite. This release makes the system easily extensible to support multiple target languages while addressing minor stylistic feedback from automated evaluation.

---

## What's New

### üåç Language Configuration System

**New Module**: `language-config.ts`

Introduces an extensible system for language-specific translation rules:

```typescript
// Easy to add new languages
'zh-cn': {
  code: 'zh-cn',
  name: 'Chinese (Simplified)',
  additionalRules: [
    'Use proper full-width Chinese punctuation marks (ÔºåÔºö„ÄÇÔºÅÔºü) not ASCII punctuation (,.!?) in prose text',
  ],
}
```

**Features**:
- Centralized language-specific configuration
- Automatic rule injection into translation prompts
- Case-insensitive language code lookups
- Graceful fallback for unconfigured languages
- Ready for Japanese, Spanish, and other languages

**Impact**:
- Makes adding new target languages trivial
- Addresses GPT5 evaluation finding about Chinese punctuation
- Cleaner separation of concerns
- No hardcoded language-specific logic in translator

### üìä GPT5 Comprehensive Evaluation

**21 GitHub Test Scenarios Evaluated**:
- All PRs passed scope correctness checks (100%)
- All PRs passed translation quality checks (100%)
- Math/code integrity: Perfect preservation
- Heading-map maintenance: Correct at all depths
- MyST structure: No syntax errors

**Minor Finding Addressed**:
- Occasional ASCII punctuation in Chinese prose
- Fixed via language-specific configuration
- Now explicitly instructs Claude about full-width punctuation

**Evaluation Report**: `tool-test-action-on-github/reports/evaluation-github-tests-gpt5-2025-11-06.md`

---

## Technical Changes

### New Files

1. **`src/language-config.ts`** (66 lines)
   - Language configuration system
   - `getLanguageConfig()` - Retrieve language rules
   - `formatAdditionalRules()` - Format for prompts

2. **`src/__tests__/language-config.test.ts`** (7 tests)
   - Complete test coverage for language configuration
   - Case-insensitive lookups
   - Fallback behavior
   - Rule formatting

3. **`tool-test-action-on-github/reports/evaluation-github-tests-gpt5-2025-11-06.md`**
   - Comprehensive GPT5 evaluation report
   - 21 PR pair assessments
   - Cross-cutting observations
   - Recommendations

### Modified Files

**`src/translator.ts`**:
- Import `getLanguageConfig` from language-config module
- All three translation modes (UPDATE, NEW, Full Document) now use language-specific rules
- Dynamic rule numbering based on additional rules
- Maintains backward compatibility

**Documentation Updates**:
- `.github/copilot-instructions.md` - Updated module count, test coverage, added language-config responsibilities
- `docs/STATUS-REPORT.md` - v0.5.1 status, GPT5 findings, language extensibility

---

## Testing

### Test Coverage

- **Total Tests**: 147 (was 140, +7 new)
- **New Tests**: Language configuration (7 tests)
- **Pass Rate**: 100%

**New Test Coverage**:
- Chinese configuration retrieval
- Case-insensitive language codes
- Unconfigured language fallback
- Unknown language handling
- Rule formatting

### Build

- TypeScript compilation: ‚úÖ Clean
- Bundle size: 1951kB
- No breaking changes

---

## Metrics

| Metric | v0.5.0 | v0.5.1 | Change |
|--------|--------|--------|--------|
| Core Modules | 6 | 7 | +1 (language-config) |
| Test Files | 8 | 9 | +1 |
| Total Tests | 140 | 147 | +7 |
| Code Size | ~1,200 lines | ~1,300 lines | +100 lines |
| Bundle Size | 1937kB | 1951kB | +14kB |

---

## Migration Guide

### For Existing Users

**No changes required!** This is a backward-compatible enhancement.

Existing workflows with `target-language: 'zh-cn'` will automatically:
- Use the new language configuration system
- Get full-width Chinese punctuation rules
- Produce slightly better formatted output

### For New Languages

To add support for a new language (e.g., Japanese):

1. **Edit `src/language-config.ts`**:
```typescript
'ja': {
  code: 'ja',
  name: 'Japanese',
  additionalRules: [
    'Use proper Japanese punctuation marks („ÄÅ„ÄÇ„Äå„Äç) in prose text',
    'Use appropriate honorifics and formality levels',
  ],
}
```

2. **Update workflow**:
```yaml
target-language: 'ja'
```

That's it! The system handles the rest automatically.

---

## GPT5 Evaluation Highlights

### Scope Correctness: 100% Pass

‚úÖ All 21 test scenarios correctly identified and changed only relevant files/sections
‚úÖ Heading-maps accurately maintained for all nesting levels
‚úÖ TOC updates synchronized correctly
‚úÖ No scope creep or unintended changes

### Translation Quality: 100% Pass

‚úÖ Terminology consistency (standardized "ÂàóÊòÇÊÉïÂ§´ÈÄÜÁü©Èòµ")
‚úÖ Math LaTeX preserved perfectly
‚úÖ Code cells unchanged, only comments translated
‚úÖ MyST directives and structure intact
‚úÖ Natural, fluent Chinese prose

### Minor Recommendations Implemented

‚úÖ Chinese punctuation normalization (now in language config)
‚úÖ Continue glossary standardization (ongoing)
‚úÖ Keep nested subsection regression tests (maintained)

---

## What's Next

### v0.6.0 Planning (Multi-Language Support)

Potential features for next release:
- Add Japanese language configuration
- Add Spanish language configuration
- Language-specific glossary support
- Documentation for adding new languages

### v1.0.0 Roadmap

Path to stable API:
- Extended production usage validation
- Performance optimization if needed
- Final API stabilization
- Comprehensive user documentation

---

## Files Changed

**New**:
- `src/language-config.ts` - Language configuration module
- `src/__tests__/language-config.test.ts` - Language config tests
- `tool-test-action-on-github/reports/evaluation-github-tests-gpt5-2025-11-06.md` - GPT5 evaluation
- `docs/releases/v0.5.1.md` - This file

**Modified**:
- `src/translator.ts` - Use language configuration
- `.github/copilot-instructions.md` - Updated metrics and module list
- `docs/STATUS-REPORT.md` - v0.5.1 status update

---

## Summary

v0.5.1 validates the system through comprehensive GPT5 evaluation (21 scenarios, 100% pass rate) and introduces an extensible language configuration system that makes adding new target languages simple and maintainable. The minor stylistic issue identified (Chinese punctuation) is now addressed at the architectural level, setting the foundation for true multilingual support.

**Recommendation**: Safe to upgrade. No breaking changes, improved output quality for Chinese translations, ready for expansion to additional languages.
