name: 'Translation Sync'
description: 'Automatically sync translations across repositories'
author: 'QuantEcon'

branding:
  icon: 'globe'
  color: 'blue'

inputs:
  target-repo:
    description: 'Target repository (owner/repo)'
    required: true
  target-language:
    description: 'Target language code (e.g., zh-cn)'
    required: true
  docs-folder:
    description: 'Documentation folder pattern (e.g., lectures/)'
    required: false
    default: 'lectures/'
  source-language:
    description: 'Source language code (e.g., en)'
    required: false
    default: 'en'
  glossary-path:
    description: 'Path to custom translation glossary JSON file (optional - built-in glossary used by default)'
    required: false
    default: ''
  toc-file:
    description: 'Table of contents file name'
    required: false
    default: '_toc.yml'
  anthropic-api-key:
    description: 'Anthropic API key for Claude'
    required: true
  claude-model:
    description: 'Claude model to use for translation'
    required: false
    default: 'claude-sonnet-4.5-20241022'
  github-token:
    description: 'GitHub token for API access'
    required: true
  pr-labels:
    description: 'Comma-separated labels for created PRs'
    required: false
    default: 'translation-sync,automated'
  pr-reviewers:
    description: 'Comma-separated list of GitHub usernames to request as reviewers (e.g., user1,user2). Leave empty for no reviewers.'
    required: false
    default: ''
  pr-team-reviewers:
    description: 'Comma-separated list of GitHub team slugs to request as reviewers (e.g., team1,team2). Leave empty for no team reviewers.'
    required: false
    default: ''

outputs:
  pr-url:
    description: 'URL of the created pull request'
  files-synced:
    description: 'Number of files synchronized'

runs:
  using: 'node20'
  main: 'dist/index.js'
